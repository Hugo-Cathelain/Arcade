///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "games/NIBBLER/Fruit.hpp"
#include "games/NIBBLER/Assets.hpp"
#include "Arcade/core/API.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace Arc::Nibbler
///////////////////////////////////////////////////////////////////////////////

namespace Arc::Nibbler
{

///////////////////////////////////////////////////////////////////////////////
Fruit::Fruit(void)
    : mPosition(0, 0)
    , mType(0)
{}

///////////////////////////////////////////////////////////////////////////////
void Fruit::SetPosition(const Vec2i& position)
{
    mPosition = position;
}

///////////////////////////////////////////////////////////////////////////////
Vec2i Fruit::GetPosition(void) const
{
    return (mPosition);
}

///////////////////////////////////////////////////////////////////////////////
void Fruit::DrawAnimation(float timer)
{
    auto fruit = SPRITES[FRUIT_START];

    fruit.position.x += static_cast<int>(timer * 12) % 8;
    fruit.position.y = mType;
    API::Draw(fruit, mPosition);
}

} // namespace Arc::Nibbler