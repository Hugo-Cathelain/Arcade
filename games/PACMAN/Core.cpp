///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "games/PACMAN/Core.hpp"
#include "../../Arcade/core/API.hpp"
#include "games/PACMAN/Assets.hpp"
#include "games/PACMAN/Menu.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace Arc::Pacman
///////////////////////////////////////////////////////////////////////////////
namespace Arc::Pacman
{

///////////////////////////////////////////////////////////////////////////////
Core::Core(void)
    : mGameState(nullptr)
{}

///////////////////////////////////////////////////////////////////////////////
Core::~Core()
{}

///////////////////////////////////////////////////////////////////////////////
void Core::BeginPlay(void)
{
    API::PushEvent(API::Event::GRAPHICS, API::Event::GridSize({
        ARCADE_SCREEN_WIDTH, ARCADE_SCREEN_HEIGHT
    }));

    mGameState.reset(new Menu());
    mGameState->BeginPlay();
}

///////////////////////////////////////////////////////////////////////////////
void Core::EndPlay(void)
{
    mGameState->EndPlay();
    mGameState.reset();
}

///////////////////////////////////////////////////////////////////////////////
void Core::Tick(float deltaSeconds)
{
    mGameState->Tick(deltaSeconds);
}

///////////////////////////////////////////////////////////////////////////////
bool Core::IsGameOver(void) const
{
    return (false);
}

///////////////////////////////////////////////////////////////////////////////
int Core::GetScore(void) const
{
    return (0);
}

///////////////////////////////////////////////////////////////////////////////
std::string Core::GetName(void) const
{
    return ("Arcade: Pac-Man (1980)");
}

///////////////////////////////////////////////////////////////////////////////
std::string Core::GetDescription(void) const
{
    return ("Pacman game");
}

///////////////////////////////////////////////////////////////////////////////
std::string Core::GetSpriteSheet(void) const
{
    return ("assets/PACMAN/sprites.png");
}

} // namespace Arc::Pacman
