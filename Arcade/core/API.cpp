///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Arcade/core/API.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace Arc
///////////////////////////////////////////////////////////////////////////////
namespace Arc
{

///////////////////////////////////////////////////////////////////////////////
std::queue<API::Event> API::mEvents;

///////////////////////////////////////////////////////////////////////////////
std::queue<IDrawable> API::mDrawables;

///////////////////////////////////////////////////////////////////////////////
std::optional<API::Event> API::PollEvent(void)
{
    if (mEvents.empty()) {
        return (std::nullopt);
    }
    auto event = mEvents.front();
    mEvents.pop();
    return (event);
}

///////////////////////////////////////////////////////////////////////////////
void API::PushEvent(const Event& event)
{
    mEvents.push(event);
}

///////////////////////////////////////////////////////////////////////////////
void API::Draw(const IDrawable& drawable)
{
    mDrawables.push(drawable);
}

///////////////////////////////////////////////////////////////////////////////
IDrawable API::PopDraw(void)
{
    auto drawable = mDrawables.front();
    mDrawables.pop();
    return (drawable);
}

///////////////////////////////////////////////////////////////////////////////
bool API::IsDrawQueueEmpty(void)
{
    return (mDrawables.empty());
}

} // namespace Arc
